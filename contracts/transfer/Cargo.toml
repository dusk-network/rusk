[package]
name = "transfer-contract"
version = "0.10.1"
edition = "2021"

[lib]
crate-type = ["cdylib", "rlib"]

[dependencies]
dusk-core = { workspace = true }
ringbuffer = { workspace = true }

# data-driver dependency
dusk-data-driver = { path = "../../data-driver", optional = true }
wasm-bindgen = { version = "0.2", default-features = false, optional = true }
dlmalloc = { version = "0.2", features = ["global"], optional = true }
serde = { workspace = true, features = ["derive"], optional = true }
rkyv = { workspace = true, default-features = false, optional = true }
bytecheck = { workspace = true, default-features = false, optional = true }

[dev-dependencies]
dusk-vm = { workspace = true }
rusk-profile = { workspace = true }
rusk-prover = { workspace = true }
rkyv = { workspace = true, features = ["size_32"] }
rand = { workspace = true }
ff = { workspace = true }
dusk-bytes = { workspace = true }

[build-dependencies]
rusk-profile = { workspace = true }


[[bin]]
name = "transfer-contract-dd"
path = "data-driver/bindgen.rs"
required-features = ["data-driver"]

[features]
contract = ["dusk-core/abi-dlmalloc"]
data-driver = [
    "dusk-core/serde",
    "serde",
    "dlmalloc",
    "wasm-bindgen",
    "dusk-data-driver",
    "rkyv",
    "bytecheck",
]
